services:
  # Logger channel
  logger.channel.shared_components:
    parent: logger.channel_base
    arguments: ['shared_components']

  # Component discovery service
  shared_components.component_discovery:
    class: Drupal\shared_components\Service\ComponentDiscoveryService
    arguments:
      - '@file_system'
      - '@logger.channel.shared_components'
      - '@config.factory'

  # Library builder service
  shared_components.library_builder:
    class: Drupal\shared_components\Service\LibraryBuilderService
    arguments:
      - '@config.factory'
      - '@logger.channel.shared_components'

  # Main service
  shared_components.service:
    class: Drupal\shared_components\Service\SharedComponentsService
    arguments:
      - '@shared_components.component_discovery'
      - '@shared_components.library_builder'
      - '@cache.default'
      - '@module_handler'
      - '@logger.channel.shared_components'
      - '@config.factory'
